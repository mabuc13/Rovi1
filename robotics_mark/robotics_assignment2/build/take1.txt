wc = rws.getRobWorkStudio():getWorkCell()
state = wc:getDefaultState()
device = wc:findDevice("KukaKr16")
gripper = wc:findFrame("Tool");
bottle = wc:findFrame("Bottle");
table = wc:findFrame("Table");

function setQ(q)
qq = rw.Q(#q,q[1],q[2],q[3],q[4],q[5],q[6])
device:setQ(qq,state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

function attach(obj, tool)
rw.gripFrame(obj, tool, state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

setQ({0, 0, 0, 0, 0, 0})
setQ({0.208981, -0.0391559, -0.279803, -0.319258, -0.15674, 0.00329778})
setQ({0.509963, -0.128473, -0.199407, -0.499761, 0.0599315, -0.252517})
setQ({0.531319, -0.00966373, -0.230368, -0.93569, 0.0706292, -0.463043})
setQ({0.645667, 0.0549445, -0.454738, -1.00616, -0.150067, -0.821841})
setQ({0.657021, 0.181132, -0.513283, -0.998601, -0.0193153, -1.28376})
setQ({0.961587, 0.0130146, -0.46522, -1.15382, 0.227121, -1.48831})
setQ({1.10567, 0.0138831, -0.736868, -0.973689, 0.332868, -1.8227})
setQ({1.26643, -0.0369174, -0.910358, -1.3374, 0.113974, -1.92889})
setQ({1.06861, -0.0653129, -0.976771, -1.50282, 0.113035, -1.90944})
setQ({0.700238, -0.118191, -1.10044, -1.81087, 0.111284, -1.87321})
setQ({0.331862, -0.171069, -1.22412, -2.11891, 0.109534, -1.83699})
setQ({-0.0365141, -0.223947, -1.34779, -2.42696, 0.107784, -1.80076})
setQ({-0.40489, -0.276825, -1.47146, -2.73501, 0.106034, -1.76454})
setQ({-0.584737, -0.241985, -1.67032, -2.85534, 0.00133999, -1.37537})
setQ({-0.754979, -0.199582, -1.86008, -2.56484, -0.0490874, -1.06508})
setQ({-0.993274, -0.281115, -1.65547, -2.5176, -0.0403919, -0.687725})
setQ({-1.26234, -0.413558, -1.8475, -2.19007, 0.0174907, -0.799838})
setQ({-1.607, -0.466108, -1.75503, -1.84951, -0.0181478, -0.851263})
setQ({-1.914, -0.538287, -2.00442, -2.10821, 0.00528174, -0.99573})
setQ({-2.221, -0.610465, -2.25382, -2.36691, 0.0287113, -1.1402})
setQ({-2.528, -0.682643, -2.50321, -2.62561, 0.0521409, -1.28467})
setQ({-2.835, -0.754822, -2.75261, -2.8843, 0.0755704, -1.42913})
setQ({-3.142, -0.827, -3.002, -3.143, 0.099, -1.5736})
attach(bottle,gripper)
setQ({-3.142, -0.827, -3.002, -3.143, 0.099, -1.574})
setQ({-3.07205, -0.82509, -2.77333, -3.32779, -0.0737772, -1.9329})
setQ({-2.9101, -0.751594, -2.77687, -2.93384, -0.0521992, -2.18329})
setQ({-2.79148, -0.735595, -2.69165, -2.96758, -0.0623369, -2.07465})
setQ({-2.47279, -0.692613, -2.46266, -3.05823, -0.089574, -1.78277})
setQ({-2.07544, -0.604773, -2.25667, -2.87949, -0.100048, -1.68322})
setQ({-1.67809, -0.516932, -2.05068, -2.70075, -0.110523, -1.58367})
setQ({-1.28074, -0.429092, -1.84469, -2.52201, -0.120997, -1.48413})
setQ({-0.883395, -0.341251, -1.6387, -2.34328, -0.131471, -1.38458})
setQ({-0.486048, -0.253411, -1.43271, -2.16454, -0.141945, -1.28503})
setQ({-0.0886996, -0.16557, -1.22672, -1.9858, -0.15242, -1.18548})
setQ({0.179677, -0.131374, -1.17718, -1.82464, 0.0261535, -0.844177})
setQ({0.394714, -0.0239143, -1.3141, -1.43341, 0.161519, -0.889796})
setQ({0.296036, 0.00363001, -1.46862, -0.977932, 0.231703, -0.946702})
setQ({0.656726, 0.0967191, -1.44532, -0.689242, 0.374197, -0.862748})
setQ({0.91809, 0.175307, -1.45646, -0.709777, 0.295026, -0.452019})
setQ({0.809676, 0.175884, -1.29045, -0.535381, 0.294475, -0.0274346})
setQ({0.794087, 0.0154188, -0.910604, -0.447808, 0.036269, 0.0459726})
setQ({0.82736, -0.0211466, -1.03974, -0.255, -0.103286, 0.46338})
setQ({1.03162, 0.0305309, -0.85095, -0.0527477, -0.125854, 0.82192})
setQ({0.949103, 0.0678685, -0.643229, -0.21873, 0.00656492, 1.21379})
setQ({1.13882, 0.0978715, -0.602238, 0.00239905, 0.0748364, 1.61112})
setQ({1.27652, 0.0793352, -0.719512, 0.354556, 0.229627, 1.87373})
setQ({1.18052, 0.107311, -0.419009, 0.225679, 0.369648, 2.2106})
setQ({1.24948, 0.1524, -0.460497, -0.0473206, 0.462679, 2.60848})
setQ({1.26871, 0.109976, -0.428319, -0.166335, 0.432932, 3.08988})
setQ({1.35572, 0.0328348, -0.16219, -0.220464, 0.324882, 3.47853})
setQ({1.38117, 0.0630484, -0.218515, 0.0401091, 0.421306, 3.88849})
setQ({1.35104, 0.0120458, -0.182567, -0.154021, 0.586447, 4.31304})
setQ({1.571, 0.006, 0.03, 0.153, 0.762, 4.49})
attach(bottle,table)
