wc = rws.getRobWorkStudio():getWorkCell()
state = wc:getDefaultState()
device = wc:findDevice("KukaKr16")
gripper = wc:findFrame("Tool");
bottle = wc:findFrame("Bottle");
table = wc:findFrame("Table");

function setQ(q)
qq = rw.Q(#q,q[1],q[2],q[3],q[4],q[5],q[6])
device:setQ(qq,state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

function attach(obj, tool)
rw.gripFrame(obj, tool, state)
rws.getRobWorkStudio():setState(state)
rw.sleep(0.1)
end

setQ({0, 0, 0, 0, 0, 0})
setQ({0.348355, -0.127994, -0.128363, -0.892194, 0.262901, 0.648585})
setQ({0.14071, -0.239357, -0.00838887, -0.404865, 0.23027, 1.71232})
setQ({0.45773, -0.13906, -0.0861671, 0.490317, 0.229494, 2.43484})
setQ({1.19287, -0.311839, -0.260466, 0.376513, 0.685792, 3.22108})
setQ({1.13375, -0.295101, -0.480665, -0.0133172, 0.62942, 3.13682})
setQ({0.980548, -0.251733, -1.05119, -1.02335, 0.483362, 2.9185})
setQ({0.605141, -0.473086, -1.27289, -0.426094, -0.371392, 2.58145})
setQ({0.518544, -0.448537, -1.18144, 0.406242, -0.189449, 1.7462})
setQ({-0.236938, -0.130181, -1.57901, 1.15714, -0.0225181, 1.88081})
setQ({-0.88506, -0.246001, -1.43339, 1.75501, -0.0855654, 1.09094})
setQ({-0.6358, -0.331839, -0.938136, 1.54586, -0.426097, 0.108332})
setQ({-0.560578, -0.264746, -1.33788, 0.513811, -0.0174658, -0.0864831})
setQ({-0.880369, -0.364753, -0.975917, -0.100686, -0.194689, -0.974008})
setQ({-1.61321, -0.593576, -1.56329, -0.790639, -0.112485, -1.12492})
setQ({-2.34606, -0.822399, -2.15067, -1.48059, -0.0302806, -1.27583})
setQ({-2.9142, -0.839343, -2.61179, -2.29268, 0.261597, -0.876311})
setQ({-3.142, -0.827, -3.002, -3.143, 0.099, -1.5736})
attach(bottle,gripper)
setQ({-3.142, -0.827, -3.002, -3.143, 0.099, -1.574})
setQ({-2.51458, -0.440503, -2.39085, -3.71174, 0.498051, -1.77588})
setQ({-1.63446, -0.178033, -2.43899, -3.26356, 0.18455, -1.23272})
setQ({-1.90908, -0.249481, -2.63776, -3.32342, -0.32133, -0.202929})
setQ({-1.82361, -0.224872, -2.62442, -3.28663, -0.300905, -0.251236})
setQ({-0.894744, 0.0425622, -2.47945, -2.88689, -0.0789347, -0.776214})
setQ({-1.06435, -0.376166, -1.94466, -2.24615, 0.452622, -0.269465})
setQ({-0.393307, -0.346396, -1.7382, -1.568, 0.431601, 0.427574})
setQ({0.384082, -0.182558, -1.44176, -1.37007, 0.599211, 1.23608})
setQ({1.16147, -0.0187195, -1.14532, -1.17214, 0.766822, 2.04458})
setQ({1.20166, -0.0746032, -0.582121, -0.821865, 0.947807, 3.02571})
setQ({1.61004, 0.00175146, -0.265831, -0.93389, 0.890814, 4.09882})
setQ({1.571, 0.006, 0.03, 0.153, 0.762, 4.49})
attach(bottle,table)
